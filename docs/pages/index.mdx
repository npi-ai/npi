---
title: NPi AI
description: Welcome to NPi AI
---

import { Callout, Steps, Tabs } from 'nextra/components';

## What is NPi?

NPi (**N**atural-language **P**rogramming **I**nterface), pronounced as **"N Ï€"**, is an open-source platform providing **_Tool-use_** APIs to empower AI agents with the ability to operate and interact with a diverse array of software tools and applications.

## Quick Start

<Steps>

### Installation

Begin by installing the NPi AI package via pip:

```sh
pip install npiai
```

### Create a New Tool

Let's create a new tool to compute the nth Fibonacci number. Start by crafting a new Python file titled `main.py` and insert the following snippet:


```python filename="main.py"
from npiai import App, function

class MyApp(App):
    def __init__(self):
        super().__init__(
            name='my_app',
            description='test app',
        )

    @function
    def fibonacci(self, n: int) -> int:
        """
        Get the nth Fibonacci number.

        Args:
            n: The index of the Fibonacci number in the sequence.
        """
        if n == 0:
            return 0
        if n == 1:
            return 1
        return self.fibonacci(n - 1) + self.fibonacci(n - 2)
```

### Run the Tool

NPi offers two modes for utilizing the tool: function mode and agent mode.


#### Function Mode: Integration with Existing AI Agents

Function mode enables the integration of NPi tools with existing LLM-based AI agents. In this mode, tools are packaged as callable functions that the AI agent can invoke in response to queries. This integration allows us to enrich the AI's functionality by incorporating custom operations without altering the agent's core logic.

```python filename="main.py" showLineNumbers {13, 19-20}
async def main():
    async with MyApp() as my_app:
        client = OpenAI(api_key=os.getenv('OPENAI_API_KEY'))
        messages = [
            {
                "role": "user",
                "content": "What's the 10-th fibonacci number?",
            }
        ]
        response = client.chat.completions.create(
            model="gpt-4o",
            messages=messages,
            tools=my_app.tools,  # use npi as a tool package
            tool_choice="auto",
            max_tokens=4096,
        )
        response_message = response.choices[0].message

        # call the tool function corresponding to the response message
        result = await my_app.call(response_message.tool_calls)

        print(result)


if __name__ == "__main__":
    asyncio.run(main())
```

#### Agent Mode: Direct Tool Execution as an Agent

Agent mode allows an NPi tool to function as an independent AI agent that can directly take user queries and generate responses. In this mode, the tool will be converted to an agent that receives user input, processes it internally using its defined functions, and returns the result as an output message. This mode simplifies the creation of an AI-powered interface for individual tools without requiring integration with a larger system.

```python filename="main.py" {1, 4-5}
from npiai import App, function, agent_wrapper

async def main():
    async with agent_wrapper(MyApp()) as agent:
        result = await agent.chat("What's the 10-th fibonacci number?")
        print(result)

if __name__ == "__main__":
    asyncio.run(main())
```

</Steps>
